var toRad=(Math.PI/180);var toDeg=(180/Math.PI);function sin(numInDeg){"use strict";var numInRad,outSin;numInRad=numInDeg*(toRad);outSin=Math.sin(numInRad);return outSin}function tan(numInDeg){"use strict";var numInRad,outTan;numInRad=numInDeg*(toRad);outTan=Math.tan(numInRad);return outTan}function atan(numIn){"use strict";var outAtan;outAtan=Math.atan(numIn);outAtan=outAtan*toDeg;return outAtan}function cos(numInDeg){"use strict";var numInRad,outCos;numInRad=numInDeg*(toRad);outCos=Math.cos(numInRad);return outCos}function asin(numIn){"use strict";var outAsin;outAsin=Math.asin(numIn);outAsin=outAsin*toDeg;return outAsin}function acos(numIn){"use strict";var outAcos;outAcos=Math.acos(numIn);outAcos=outAcos*toDeg;return outAcos}function showPosition(position){"use strict";var lat,lon;lat=position.coords.latitude;lon=position.coords.longitude;calcSunriseWithChecks(lat,lon);calcSunsetWithChecks(lat,lon)}function showError(error){"use strict";var x=document.getElementById("sunrise");switch(error.code){case error.PERMISSION_DENIED:x.innerHTML="User denied the request for Geolocation.";break;case error.POSITION_UNAVAILABLE:x.innerHTML="Location information is unavailable.";break;case error.TIMEOUT:x.innerHTML="The request to get user location timed out.";break;case error.UNKNOWN_ERROR:x.innerHTML="An unknown error occurred.";break}}function getLocation(){"use strict";var x=document.getElementById("sunrise");if(navigator.geolocation){navigator.geolocation.getCurrentPosition(showPosition,showError)}else{x.innerHTML="Geolocation is not supported by this browser."}}function calcSunrise(dayOffset,lat,lon){"use strict";var now,day,month,year,latitude,longitude,localOffset,sunriseTime,offical,Hr,N1,N2,N3,N,lngHour,tr,Mr,Lr,RAr,Lquadrantr,RAquadrantr,sinDecr,cosHr,Tir,UTr,localTr,sunriseTimeH,sunriseTimeM,displaySunriseTime,cosDecr;now=new Date();day=now.getDate();day=day+dayOffset;now.setDate(day);month=now.getMonth();month=month+1;year=now.getFullYear();latitude=lat;longitude=lon;localOffset=(-(now.getTimezoneOffset())/60);offical=90.83333333333333;N1=Math.floor(275*month/9);N2=Math.floor((month+9)/12);N3=(1+Math.floor((year-4*Math.floor(year/4)+2)/3));N=N1-(N2*N3)+day-30;lngHour=longitude/15;tr=N+((6-lngHour)/24);Mr=(0.9856*tr)-3.289;Lr=Mr+(1.916*sin(Mr))+(0.020*sin(2*Mr))+282.634;if(Lr>360){Lr=Lr-360}else if(Lr<0){Lr=Lr+360}RAr=atan(0.91764*tan(Lr));if(RAr>0){if(RAr>360){RAr=RAr-360}}else{if(RAr<-0){RAr=RAr+360}}Lquadrantr=(Math.floor(Lr/90))*90;RAquadrantr=(Math.floor(RAr/90))*90;RAr=RAr+(Lquadrantr-RAquadrantr);RAr=RAr/15;sinDecr=0.39782*sin(Lr);cosDecr=cos(asin(sinDecr));cosHr=(cos(offical)-(sinDecr*sin(latitude)))/(cosDecr*cos(latitude));if(cosHr>1){Hr=null}else{Hr=360-acos(cosHr);Hr=Hr/15}Tir=Hr+RAr-(0.06571*tr)-6.622;UTr=Tir-lngHour;if(UTr>24){UTr=UTr-24}else if(UTr<0){UTr=UTr+24}localTr=UTr+localOffset;sunriseTimeH=Math.floor(localTr);sunriseTimeM=Math.floor((localTr-sunriseTimeH)*60);displaySunriseTime=sunriseTimeH+':'+sunriseTimeM+' AM';sunriseTime=new Date(0,0,0,sunriseTimeH,sunriseTimeM,0,0);return{sunriseTime:sunriseTime,displaySunriseTime:displaySunriseTime,now:now}}function calcSunriseWithChecks(lat,lon){"use strict";var returned,x;x=document.getElementById("sunrise");returned=calcSunrise(0,lat,lon);x.innerHTML="Sunrise "+returned.displaySunriseTime}function calcSunset(dayOffset,lat,lon){"use strict";var now,day,month,year,latitude,longitude,localOffset,sunsetTime,offical,Hs,N1,N2,N3,N,lngHour,ts,Ms,Ls,RAs,Lquadrants,RAquadrants,sinDecs,cosHs,Tis,UTs,localTs,sunsetTimeH,sunsetTimeM,displaySunsetTime,cosDecs;now=new Date();day=now.getDate();day=day+dayOffset;now.setDate(day);month=now.getMonth();month=month+1;year=now.getFullYear();latitude=lat;longitude=lon;localOffset=(-(now.getTimezoneOffset())/60);offical=90.83333333333333;N1=Math.floor(275*month/9);N2=Math.floor((month+9)/12);N3=(1+Math.floor((year-4*Math.floor(year/4)+2)/3));N=N1-(N2*N3)+day-30;lngHour=longitude/15;ts=N+((18-lngHour)/24);Ms=(0.9856*ts)-3.289;Ls=Ms+(1.916*sin(Ms))+(0.020*sin(2*Ms))+282.634;if(Ls>360){Ls=Ls-360}else if(Ls<0){Ls=Ls+360}RAs=atan(0.91764*tan(Ls));if(RAs>0){if(RAs>360){RAs=RAs-360}}else{if(RAs<0){RAs=RAs+360}}Lquadrants=(Math.floor(Ls/90))*90;RAquadrants=(Math.floor(RAs/90))*90;RAs=RAs+(Lquadrants-RAquadrants);RAs=RAs/15;sinDecs=0.39782*sin(Ls);cosDecs=cos(asin(sinDecs));cosHs=(cos(offical)-(sinDecs*sin(latitude)))/(cosDecs*cos(latitude));if(cosHs<-1){Hs=null}else{Hs=acos(cosHs);Hs=Hs/15}Tis=Hs+RAs-(0.06571*ts)-6.622;UTs=Tis-lngHour;if(UTs>24){UTs=UTs-24}else if(UTs<0){UTs=UTs+24}localTs=UTs+localOffset;sunsetTimeH=Math.floor(localTs);sunsetTimeM=Math.floor((localTs-sunsetTimeH)*60);if(sunsetTimeH<0){sunsetTimeH=sunsetTimeH+12}displaySunsetTime=sunsetTimeH+':'+sunsetTimeM+' PM';sunsetTime=new Date(0,0,0,sunsetTimeH,sunsetTimeM,0,0);return{sunsetTime:sunsetTime,displaySunsetTime:displaySunsetTime,now:now}}function calcSunsetWithChecks(lat,lon){"use strict";var returned,x;x=document.getElementById("sunset");returned=calcSunset(0,lat,lon);x.innerHTML='Sunset '+returned.displaySunsetTime}